<div class="product-list-container">
  <div class="filters">
    <div class="filter-group">
      <label>Search:</label>
      <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()" placeholder="Search products...">
    </div>

    <div class="filter-group">
      <label>Category:</label>
      <select [(ngModel)]="selectedCategory" (ngModelChange)="onCategoryChange()">
        <option value="all">All Categories</option>
        <option value="Electronics">Electronics</option>
        <option value="Accessories">Accessories</option>
      </select>
    </div>

    <div class="filter-group">
      <label>Sort By:</label>
      <select [(ngModel)]="sortBy" (ngModelChange)="onSortChange()">
        <option value="name">Name</option>
        <option value="price-low">Price: Low to High</option>
        <option value="price-high">Price: High to Low</option>
        <option value="rating">Rating</option>
      </select>
    </div>
  </div>

  <div class="products-grid">
    <div *ngFor="let product of filteredProducts" class="product-card">
      <div class="product-image" [style.background-image]="'url(' + product.image + ')'">
        <span *ngIf="product.featured" class="badge featured">Featured</span>
        <span *ngIf="product.discount" class="badge discount">-{{product.discount}}%</span>
      </div>

      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p class="description">{{ product.description }}</p>

        <div class="rating">
          <span *ngFor="let star of [1,2,3,4,5]">
            {{ star <= product.rating ? '★' : '☆' }}
          </span>
          <span class="rating-value">{{ product.rating }}</span>
        </div>

        <div class="price-section">
          <span *ngIf="product.discount" class="original-price">${{ product.price }}</span>
          <span class="price">${{ getDiscountedPrice(product) | number:'1.2-2' }}</span>
        </div>

        <div class="stock-info" [ngClass]="getStockClass(product)">
          {{ getStockStatus(product) }} ({{ product.stock }} available)
        </div>

        <button class="add-to-cart-btn" (click)="addToCart(product)">
          Add to Cart
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="filteredProducts.length === 0" class="no-products">
    No products found
  </div>
</div>
