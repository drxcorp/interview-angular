<div class="checkout-container">
  <h1>Checkout</h1>

  <div class="checkout-content">
    <div class="checkout-form">
      <h2>Shipping Information</h2>

      <div class="form-group">
        <label>Full Name *</label>
        <input type="text" [(ngModel)]="customerName" placeholder="Enter your full name">
      </div>

      <div class="form-group">
        <label>Email *</label>
        <input type="text" [(ngModel)]="customerEmail" placeholder="Enter your email">
      </div>

      <div class="form-group">
        <label>Shipping Address *</label>
        <textarea [(ngModel)]="shippingAddress" rows="3" placeholder="Enter your shipping address"></textarea>
      </div>

      <h2>Payment Information</h2>

      <div class="form-group">
        <label>Card Number</label>
        <input type="text" [(ngModel)]="cardNumber" (blur)="formatCardNumber()" placeholder="1234 5678 9012 3456">
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Expiry Date</label>
          <input type="text" [(ngModel)]="cardExpiry" placeholder="MM/YY">
        </div>

        <div class="form-group">
          <label>CVV</label>
          <input type="text" [(ngModel)]="cardCVV" placeholder="123" maxlength="3">
        </div>
      </div>

      <div class="form-actions">
        <button class="back-btn" (click)="goBack()" [disabled]="isProcessing">
          Back to Cart
        </button>
        <button class="submit-btn" (click)="submitOrder()" [disabled]="isProcessing">
          {{ isProcessing ? 'Processing...' : 'Place Order' }}
        </button>
      </div>
    </div>

    <div class="order-summary">
      <h2>Order Summary</h2>

      <div class="summary-items">
        <div *ngFor="let item of cartService.cartItems" class="summary-item">
          <span class="item-name">{{ item.product.name }} x {{ item.quantity }}</span>
          <span class="item-price">
            ${{ (item.product.price - (item.product.discount ? item.product.price * item.product.discount / 100 : 0)) * item.quantity | number:'1.2-2' }}
          </span>
        </div>
      </div>

      <div class="summary-total">
        <span>Total:</span>
        <span class="total-amount">${{ totalPrice | number:'1.2-2' }}</span>
      </div>
    </div>
  </div>
</div>
